all.files <- list.files(path)
all.files <- all.files[grep(".csv", all.files)]
files <- sapply(all.files, function(x){
read <- paste(path, x, sep = "/")
name <- sub("./RAW/", "", read)
name <- sub(".csv", "", name)
assign(name, read.csv(read, sep = ","))
})
return(files)
}
read.files("./RAW")
temp <- list.files("./RAW", pattern = ".csv")
myfiles <- lapply(temp, read.delim)
temp <- list.files("./RAW", pattern = ".csv")
myfiles <- lapply(temp, read.delim("./RAW"))
temp <- paste(."/RAW/",list.files("./RAW", pattern = ".csv"), "")
temp <- paste(."/RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- lapply(temp, read.delim)
myfiles[1]
unlist(myfiles)
myfiles[1][11:136,]
dim(myfiles)
dim(myfiles[1])
dim(myfiles(1))
myfiles[1]
class(myfiles[1])
unlist(myfiles[1])
names(myfiles[1])
for (i in 1:length(temp)) assign(temp[i], read.csv(temp[i]))
for (i in 1:length(temp)) assign(temp[i], read.csv(temp[i]))
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
for (i in 1:length(temp)) assign(temp[i], read.csv(temp[i]))
h <- for(i in 1:length(temp)) assign(temp[i], read.csv(temp[i]))
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- lapply(temp, read.csv)
names(myfiles[1])
unlist(myfiles[1])
myfiles[1]
unlist(myfiles)
unlist(myfiles[1])[11:136,]
class(myfiles[1])
(myfiles[1])[11:136,]
(myfiles[1])[11:136]
h <- myfiles[1]
unlist(h)
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- lapply(temp, read.csv)
myfiles[1]$X
str(myfiles[1])
str(myfiles)
str(myfiles[1]$data.frame)
str(myfiles[1]$'data.frame')
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- lapply(temp, read.csv)
unlist(myfiles)
myfiles[1]
unlist(myfiles[1])
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- sapply(temp, read.csv)
unlist(myfiles)
unlist(myfiles)[136,2]
matrix(unlist(myfiles)[136,2], nrow = 136)
matrix(unlist(myfiles), nrow = 136)
headdata.frame(matrix(unlist(myfiles), nrow = 136))
head(data.frame(matrix(unlist(myfiles), nrow = 136)))
head(data.frame(matrix(unlist(myfiles), nrow = 136))[11:136, c(1,2,4,6)])
head(data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,])
temp <- paste("./RAW/",list.files("./RAW", pattern = ".csv"), sep = "")
myfiles <- sapply(temp, read.csv)
head(data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,])
temp <- paste("./RAW/PoblacionOcupada",list.files("./RAW/PoblacionOcupada", pattern = ".csv"), sep = "")
myfiles <- sapply(temp, read.csv)
temp <- paste("./RAW/PoblacionOcupada",list.files("./RAW/PoblacionOcupada", pattern = ".csv"), sep = "")
temp
temp <- paste("./RAW/PoblacionOcupada/",list.files("./RAW/PoblacionOcupada", pattern = ".csv"), sep = "")
myfiles <- sapply(temp, read.csv)
head(data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,])
ocupada <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
View(myfiles)
View(ocupada)
rep(1, length(ocupada))
rep(1, length(ocupada)-2)
3:length(ocupada)
seq(3:length(ocupada), by=2)
?seq
seq(from = 2, to = length(ocupada), by = 2)
cols <- seq(from = 2, to = length(ocupada), by = 2)
temp <- paste("./RAW/PoblacionOcupada/",list.files("./RAW/PoblacionOcupada", pattern = ".csv"), sep = "")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
View(data)
?grep
names <- gsub(c(path, "/", ".csv"), "", temp)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
View(data)
names <- gsub(c(path, "/", ".csv"), "", temp)
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
View(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
View(data)
View(data)
View(data)
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
View(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
View(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
ocupacion <- data
View(ocupada)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
ocupada <- data
View(ocupada)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
data$date <- as.Date(data$date, "%Y/%m")
ocupada <- data
View(ocupada)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
str(data)
data$date <- as.Date(paste(data$date), "%Y/%m")
str(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
paste(data$date)
data$date <- as.Date(paste(data$date), "%Y%/m")
str(data)
date(1)
?date
seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
View(poblacion)
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
View(poblacion)
##--------------------------Limpieza de Datos-----------------------------
#read files
## ./RAW
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
## ./RAW/PoblacionOcupada
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
ocupada <- data
View(poblacion)
View(ocupada)
poblacion$pea + poblacion$pnea
str(sapply(poblacion, as.numeric(paste)))
str(poblacion)
class(poblacion$pea)
sapply(poblacion, function(x){if(class(x)=="factor"){x <- as.numeric(paste(x))}})
sapply(poblacion, function(x){if(class(x)=="factor"){x <- as.numeric(paste(x))}x})
sapply(poblacion, function(x) {
if(class(x)=="factor") {
x <- as.numeric(paste(x))
} else {
x
}
}
)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- c(1,seq(from = 2, to = length(data), by = 2))
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names <- c("date", tolower(names))
names(data) <- names
sapply(data, function(x){x <- as.numeric(paste(x))})
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
sapply(data, function(x){x <- as.numeric(paste(x))})
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
str(data)
View(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- sapply(data, function(x){x <- as.numeric(paste(x))})
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
sapply(data, function(x){x <- as.numeric(paste(x))})
data <- sapply(data, function(x){x <- as.numeric(paste(x))})
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
sapply(data, function(x){x <- as.numeric(paste(x))})
class(sapply(data, function(x){x <- as.numeric(paste(x))}))
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
View(data)
str(data)
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
ocupada <- data
View(ocupada)
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
View(poblacion)
poblacion$pea + poblacion$pnea
sum(poblacion$pea + poblacion$pnea)
summary(poblacion$pea + poblacion$pnea)
plot(poblacion)
plot(poblacion$date, poblacion$pea, type = "l")
?seassonal
?ts
??seassonal
require(stats)
plot(decompose(poblacion$pea))
decompose(poblacion$pea)
ts.pea <- ts(poblacion$pea, start = c(2005,1), end = c(2015, 6), freq = 12)
decompose(ts.pea)
plot(decompose(ts.pea))
plot(decompose(ts.pea, type "multiplicative"))
plot(decompose(ts.pea, type = "multiplicative"))
summary(decompose(ts.pea))
summary(decompose(ts.pea)$seassonal)
summary(decompose(ts.pea)$seasonal)
summary(decompose(ts.pea)$trend)
summary(decompose(ts.pea)$random)
hist(decompose(ts.pea)$seasonal)
hist(decompose(ts.pea)$trend)
hist(decompose(ts.pea)$random)
path <- "./RAW/PoblacionDesocupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
desocupada <- data
View(desocupada)
##--------------------------Limpieza de Datos-----------------------------
#read files
## ./RAW
path <- "./RAW"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
## ./RAW/PoblacionOcupada
path <- "./RAW/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
ocupada <- data
## ./RAW/PoblacionDesocupada
path <- "./RAW/PoblacionDesocupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
desocupada <- data
ocupada$poblacionocupada + desocupada$poblaciondesocupada
##--------------------------Limpieza de Datos-----------------------------
#read files
## ./RAW/Poblacion
path <- "./RAW/Poblacion"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
poblacion <- data
## ./RAW/Poblacion/PoblacionOcupada
path <- "./RAW/Poblacion/PoblacionOcupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
ocupada <- data
## ./RAW/Poblacion/PoblacionDesocupada
path <- "./RAW/Poblacion/PoblacionDesocupada"
temp <- paste(path,list.files(path, pattern = ".csv"), sep = "/")
myfiles <- sapply(temp, read.csv)
data <- data.frame(matrix(unlist(myfiles), nrow = 136))[11:136,]
cols <- seq(from = 2, to = length(data), by = 2)
data <- data[,cols]
names <- gsub(path, "", temp)
names <- gsub("/", "", names)
names <- gsub(".csv", "", names)
names(data) <- tolower(names)
data <- data.frame(sapply(data, function(x){x <- as.numeric(paste(x))}))
data$date <- seq(as.Date("2005/01/01"), as.Date("2015/06/01"), "months")
desocupada <- data
